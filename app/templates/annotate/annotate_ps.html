{% extends "base.html" %} {% import "bootstrap/wtf.html" as wtf %} {% block
app_content %} {% block head%} {{ super() }}
<!-- Reference custom CSS file for button rendering -->
<link
  rel="stylesheet"
  type="text/css"
  href="{{ url_for('static', filename='styles.css') }}"
/>
{% endblock %}

<body>
  <div class="container" style="padding-bottom: 30px">
    <h1>
      Annotating psychotherapy session: <strong>{{ dataset_name }}</strong>
    </h1>
    <h2>Page {{ page }} of {{ total_pages }}</h2>
    <p>Time since start of session: {{ start_time.strftime("%H:%M:%S") }}</p>
    <ul class="list-group">
      {% for item in page_items %} {% if item.event_speaker == 'Therapist' %}
      <li class="list-group-item list-group-item-secondary">
        {% elif item.event_speaker == 'Client' %}
      </li>

      <li class="list-group-item list-group-item-info">
        {% elif item.event_speaker == 'Annotator' %}
      </li>

      <li class="list-group-item list-group-item-success">
        {% endif %} {{ item.event_n }}.
        <strong>{{ item.event_speaker }}:</strong> {{ item.event_plaintext }}
      </li>
      {% endfor %}
    </ul>

    <!-- Pagination -->
    <nav aria-label="...">
      <ul class="pager">
        <li class="previous{% if not prev_url %} disabled{% endif %}">
          <a href="{{ prev_url or '#' }}">
            <span aria-hidden="true">&larr;</span> Previous
          </a>
        </li>
        <li class="next{% if not next_url %} disabled{% endif %}">
          <a href="{{ next_url or '#' }}">
            Next <span aria-hidden="true">&rarr;</span>
          </a>
        </li>
        <li class="first{% if not first_url %} disabled{% endif %}">
          <a href="{{ first_url or '#' }}">
            <span aria-hidden="true">&larr;</span> First
          </a>
        </li>
        <li class="last{% if not last_url %} disabled{% endif %}">
          <a href="{{ last_url or '#' }}">
            Last <span aria-hidden="true">&rarr;</span>
          </a>
        </li>
      </ul>
    </nav>

    <h3>Annotate this page:</h3>

    <!-- Buttons to toggle annotation forms at the segment level -->
    <div class="d-flex justify-content-center">
      <button
        type="button"
        class="btn btn-primary mx-2"
        id="btn_client"
        data-toggle="collapse"
        data-target="#form_client"
      >
        Client
      </button>
      <button
        type="button"
        class="btn btn-primary mx-2"
        id="btn_therapist"
        data-toggle="collapse"
        data-target="#form_therapist"
      >
        Therapist
      </button>
    </div>

    <!-- Form 1 -->
    <div id="form_client" class="collapse">
      <div class="row">
        <div class="col-md-4">
          {{ wtf.form_field(form_client.label_a) }} {{
          wtf.form_field(form_client.label_b) }} {{
          wtf.form_field(form_client.label_c) }} {{
          wtf.form_field(form_client.label_d) }} {{
          wtf.form_field(form_client.label_e) }}
        </div>
        <div class="col-md-4">
          <strong>{{ form_client.strength_a.label }}</strong>
          {{ wtf.form_field(form_client.strength_a) }}
          <strong>{{ form_client.strength_b.label }}</strong>
          {{ wtf.form_field(form_client.strength_b) }}
          <strong>{{ form_client.strength_c.label }}</strong>
          {{ wtf.form_field(form_client.strength_c) }}
          <strong>{{ form_client.strength_d.label }}</strong>
          {{ wtf.form_field(form_client.strength_d) }}
          <strong>{{ form_client.strength_e.label }}</strong>
          {{ wtf.form_field(form_client.strength_e) }}
        </div>
        <div class="col-md-4">
          {{ wtf.form_field(form_client.comment_a) }} {{
          wtf.form_field(form_client.comment_b) }} {{
          wtf.form_field(form_client.comment_c) }} {{
          wtf.form_field(form_client.comment_d) }} {{
          wtf.form_field(form_client.comment_e) }}
        </div>
      </div>
      {{ wtf.form_field(form_client.submit) }}
    </div>

    <!-- Form 2 -->
    <div id="form_therapist" class="collapse">
      <div class="row">
        <div class="col-md-4">
          {{ wtf.form_field(form_therapist.label_a) }} {{
          wtf.form_field(form_therapist.label_b) }} {{
          wtf.form_field(form_therapist.label_c) }} {{
          wtf.form_field(form_therapist.label_d) }} {{
          wtf.form_field(form_therapist.label_e) }}
        </div>
        <div class="col-md-4">
          <strong>{{ form_therapist.strength_a.label }}</strong>
          {{ wtf.form_field(form_therapist.strength_a) }}
          <strong>{{ form_therapist.strength_b.label }}</strong>
          {{ wtf.form_field(form_therapist.strength_b) }}
          <strong>{{ form_therapist.strength_c.label }}</strong>
          {{ wtf.form_field(form_therapist.strength_c) }}
          <strong>{{ form_therapist.strength_d.label }}</strong>
          {{ wtf.form_field(form_therapist.strength_d) }}
          <strong>{{ form_therapist.strength_e.label }}</strong>
          {{ wtf.form_field(form_therapist.strength_e) }}
        </div>
        <div class="col-md-4">
          {{ wtf.form_field(form_therapist.comment_a) }} {{
          wtf.form_field(form_therapist.comment_b) }} {{
          wtf.form_field(form_therapist.comment_c) }} {{
          wtf.form_field(form_therapist.comment_d) }} {{
          wtf.form_field(form_therapist.comment_e) }}
        </div>
      </div>
      {{ wtf.form_field(form_therapist.submit) }}
    </div>
  </div>
</body>
{% endblock %}

<!-- Use JavaScript to handle button behavior dynamically when clicked on -->
{% block scripts %} {{ super() }}
<script
  type="text/javascript"
  src="{{ url_for('static', filename='scripts.js') }}"
></script>
{% endblock %}
